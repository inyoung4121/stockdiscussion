# ì¢…ëª© í† ë¡ ë°© ğŸ“Š

ì¢…ëª©í† ë¡ ë°© APIëŠ” ì£¼ì‹ íˆ¬ììë“¤ì´ ì‹¤ì‹œê°„ìœ¼ë¡œ ì¢…ëª©ì— ëŒ€í•´ í† ë¡ í•˜ê³  ì •ë³´ë¥¼ ê³µìœ í•  ìˆ˜ ìˆëŠ” í”Œë«í¼ì„ ì œê³µí•©ë‹ˆë‹¤.

[![Java](https://img.shields.io/badge/Java-21-orange?style=flat-square&logo=java)](https://www.java.com/)
[![Spring](https://img.shields.io/badge/Spring-3.3.2-green?style=flat-square&logo=spring)](https://spring.io/)
[![MySQL](https://img.shields.io/badge/MySQL-8.0.33-blue?style=flat-square&logo=mysql)](https://www.mysql.com/)
[![Redis](https://img.shields.io/badge/Redis-7.0.8-red?style=flat-square&logo=redis)](https://redis.io/)
[![Kubernetes](https://img.shields.io/badge/Kubernetes-Latest-326CE5?style=flat-square&logo=kubernetes)](https://kubernetes.io/)

## ëª©ì°¨
- [ê¸°ìˆ  ìŠ¤íƒ](#ê¸°ìˆ -ìŠ¤íƒ)
- [ì•„í‚¤í…ì²˜](#ì•„í‚¤í…ì²˜)
- [ì£¼ìš” ê¸°ëŠ¥](#ì£¼ìš”-ê¸°ëŠ¥)
- [ERD](#erd)
- [íŠ¸ëŸ¬ë¸”ìŠˆíŒ…](#íŠ¸ëŸ¬ë¸”ìŠˆíŒ…)
  - [MSA ì•„í‚¤í…ì²˜ ìµœì í™”](#msa-ì•„í‚¤í…ì²˜-ìµœì í™”)
  - [ì£¼ì‹ ë°ì´í„° ê´€ë¦¬](#ì£¼ì‹-ë°ì´í„°-ê´€ë¦¬)
  - [ë°ì´í„° ì²˜ë¦¬ ìµœì í™”](#ë°ì´í„°-ì²˜ë¦¬-ìµœì í™”)
  - [ë°ì´í„°ë² ì´ìŠ¤ ì¡°íšŒ ì„±ëŠ¥ ê°œì„ ](#ë°ì´í„°ë² ì´ìŠ¤-ì¡°íšŒ-ì„±ëŠ¥-ê°œì„ )

## ê¸°ìˆ  ìŠ¤íƒ

### Backend
- Java 21
- Spring Framework 3.3.2
  - Spring Data JPA
  - Spring Batch
  - Spring Data Redis
  - Spring Security
  - Spring WebFlux
- JJWT 0.12.3
- Swagger v3 2.2.9

### Database
- MySQL 8.0.33
- Redis 7.0.8
- AWS S3

### DevOps
- Docker
- Kubernetes

## ì•„í‚¤í…ì²˜

![Architecture Diagram](https://github.com/user-attachments/assets/e7db877d-57c1-4823-a768-78090b62bc22)

## ì£¼ìš” ê¸°ëŠ¥

| ëª¨ë“ˆ         | ê¸°ëŠ¥                                              |
|------------|-------------------------------------------------|
| ğŸ” Envoy   | â€¢ ë””ìŠ¤ì»¤ë²„ë¦¬<br>â€¢ ë¡œë“œë°¸ëŸ°ì‹±<br>â€¢ ë¼ìš°íŒ…                         |
| ğŸšª ì¸ì¦ ëª¨ë“ˆ   | â€¢ JWT ì¸ì¦/ì¸ê°€                                     |
| ğŸ‘¥ ì‚¬ìš©ì ëª¨ë“ˆ  | â€¢ íšŒì›ê°€ì…/ë¡œê·¸ì¸<br>â€¢ í¬ìŠ¤íŠ¸/ëŒ“ê¸€ ì‘ì„±<br>â€¢ ì¢‹ì•„ìš”<br>â€¢ ë‰´ìŠ¤í”¼ë“œ ì œê³µ |
| ğŸ“ˆ ì£¼ì‹ ëª¨ë“ˆ   | â€¢ ì£¼ì‹ ë°ì´í„° ì œê³µ<br>â€¢ ìŠ¤í”„ë§ ë°°ì¹˜ ê¸°ë°˜ ë°ì´í„° ê´€ë¦¬               |
| ğŸ•·ï¸ í¬ë¡¤ë§ ëª¨ë“ˆ | â€¢ ìŠ¤í”„ë§ ë°°ì¹˜ ê¸°ë°˜ ë°ì´í„° í¬ë¡¤ë§                             |

## ERD

![ERD Diagram](https://github.com/user-attachments/assets/2cad6d01-710b-4e3c-9261-2d03cca24a78)

## íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### MSA ì•„í‚¤í…ì²˜ ìµœì í™”

- ì´ˆê¸°: Dockerì™€ Docker Compose í™œìš©í•œ ì»¨í…Œì´ë„ˆí™”
- ë¬¸ì œ ì¸ì‹: MSAì˜ í™•ì¥ì„± ì œì•½
- í•´ê²°: **Kubernetes** ë„ì…ìœ¼ë¡œ ì•„í‚¤í…ì²˜ ê°œì„ 

![Kubernetes Diagram](https://github.com/user-attachments/assets/23412a8f-071b-4f3b-9ae7-74b19e5e272d)

### ì£¼ì‹ ë°ì´í„° ê´€ë¦¬

- ì œí•œì‚¬í•­: API í˜¸ì¶œ ì œí•œ (í•œêµ­íˆ¬ìì¦ê¶Œ API: ì´ˆë‹¹ 2íšŒ, ì¼ 5000íšŒ)
- í•´ê²°:
  - ë„¤ì´ë²„ API í™œìš©ìœ¼ë¡œ ì´ˆê¸°í™” ì‹œê°„ ë‹¨ì¶• (17ë¶„ â†’ 2ì´ˆ/ì¢…ëª©)
  - 10ê°œ í•µì‹¬ ì¢…ëª©ë§Œ ì‹¤ì‹œê°„ ê´€ë¦¬ (ì¼ 3910íšŒ í˜¸ì¶œ)
- ì œê³µ ë°ì´í„°: 5ë…„ ì¼ì¼ ë°ì´í„°, 1ì£¼ì¼ ë¶„ë‹¨ìœ„ ë°ì´í„°

### ë°ì´í„° ì²˜ë¦¬ ìµœì í™”

- ê·œëª¨: ì•½ 2800ê°œ ì¢…ëª© (í˜„ì¬ 10ì¢…ëª© ì²˜ë¦¬)
- êµ¬ì„±: í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ APIí˜¸ì¶œ ì œí•œì´ ì—†ëŠ” ëª¨ë°© ì„œë²„, ë°ì´í„° ì²˜ë¦¬/ì •ì œ ì„œë²„, ë°ì´í„° ê´€ë¦¬ ì„œë²„
- ê°œì„  ì „: Spring Batch ì¤‘ì•™ ì§‘ì¤‘ì‹ ì²˜ë¦¬, Kafka ì „ì†¡
- ê°œì„  í›„: Spring Batch + Kubernetes ìƒ¤ë”©, Kafka íŒŒí‹°ì…”ë‹
- ì„±ëŠ¥ í–¥ìƒ:
  - ë°ì´í„° ì²˜ë¦¬: 11.3s â†’ 4.3s (âœ… 62% ê°œì„ )
  - ë°ì´í„° ì „ì†¡: 700ms â†’ 230ms (âœ… 67% ê°œì„ )
  - ë°ì´í„° ì €ì¥: 1100ms â†’ 330ms (âœ… 70% ê°œì„ )

### ë°ì´í„°ë² ì´ìŠ¤ ì¡°íšŒ ì„±ëŠ¥ ê°œì„ 

| ë‹¨ê³„ | ë°©ë²• | ì„±ëŠ¥ ê°œì„  |
|------|------|-----------|
| 1ï¸âƒ£ | ì—”í‹°í‹° ID: Auto Increment â†’ ë³µí•©í‚¤ | 335ms â†’ 48ms (âœ… 85% ê°œì„ ) |
| 2ï¸âƒ£ | JPA â†’ ë„¤ì´í‹°ë¸Œ ì¿¼ë¦¬ | 48ms â†’ 35ms (âœ… 27% ì¶”ê°€ ê°œì„ ) |
| 3ï¸âƒ£ | Redis ìºì‹œ ë„ì… | 35ms â†’ 10ms (âœ… 71% ì¶”ê°€ ê°œì„ ) |
